(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2829],{4454:function(e,t,n){Promise.resolve().then(n.bind(n,5691))},6463:function(e,t,n){"use strict";var s=n(1169);n.o(s,"usePathname")&&n.d(t,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}})},5691:function(e,t,n){"use strict";n.r(t);var s=n(7437),c=n(2265),a=n(7138),r=n(814),i=n(4646);t.default=(0,r.Z)(function(e){let{params:t}=e,[n,r]=(0,c.useState)(),[l,h]=(0,c.useState)("");(0,c.useEffect)(()=>{o()},[]);let o=async()=>{let e=await fetch("http://localhost:5000/categories/parent/".concat(t.slug),{cache:"no-store"});r(await e.json())},u=async(e,t)=>{if(t.preventDefault(),(await (0,i.Z)("Bạn c\xf3 chắc chắn muốn x\xf3a danh mục n\xe0y kh\xf4ng?","question")).isConfirmed)try{if((await fetch("http://localhost:5000/categories/".concat(e),{method:"DELETE"})).ok)r(n.filter(t=>t._id!==e)),h("X\xf3a danh mục th\xe0nh c\xf4ng");else throw Error("X\xf3a danh mục thất bại")}catch(e){h(e.message)}};return(0,s.jsx)("div",{className:"table-data",children:(0,s.jsxs)("div",{className:"order",children:[l&&(0,s.jsx)("p",{className:"alert alert-success",children:l}),(0,s.jsxs)("div",{className:"head",children:[(0,s.jsx)("h3",{children:"C\xe1c danh mục"}),(0,s.jsx)(a.default,{href:"/admin/categories/add",children:"Th\xeam danh mục"}),(0,s.jsx)("i",{className:"bx bx-search"}),(0,s.jsx)("i",{className:"bx bx-filter"})]}),(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"ID"}),(0,s.jsx)("th",{children:"T\xean danh mục"}),(0,s.jsx)("th",{children:"Ng\xe0y cập nhật"}),(0,s.jsx)("th",{children:"T\xf9y chọn"})]})}),(0,s.jsx)("tbody",{children:n&&n.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("p",{children:e._id})}),(0,s.jsx)("td",{children:(0,s.jsx)(a.default,{href:"/admin/categories/parent/".concat(e.slug),children:e.name})}),(0,s.jsx)("td",{children:new Date(e.updatedAt).toLocaleDateString()}),(0,s.jsxs)("td",{children:[(0,s.jsx)(a.default,{className:"edit__router",href:"/admin/categories/update/".concat(e._id),children:(0,s.jsx)("i",{className:"bx bx-pen"})}),(0,s.jsx)("button",{onClick:t=>u(e._id,t),className:"delete__btn",children:(0,s.jsx)("i",{className:"bx bx-trash"})})]})]},e._id))})]})]})})})},4646:function(e,t,n){"use strict";var s=n(4379),c=n.n(s);n(8865),n(8801),t.Z=(e,t)=>c().fire({title:e,icon:t,showCancelButton:!0,confirmButtonText:"ĐỒNG \xdd",cancelButtonText:"QUAY LẠI",customClass:{title:"custom-alert-title",confirmButton:"custom-confirm-button",cancelButton:"custom-cancel-button"}})},814:function(e,t,n){"use strict";var s=n(7437),c=n(6463),a=n(2265),r=n(1444);t.Z=e=>t=>{let n=(0,c.useRouter)(),i=(0,r.v9)(e=>e.user.userInfo);return((0,a.useEffect)(()=>{i&&"admin"===i.role||n.push("/")},[i,n]),i&&"admin"===i.role)?(0,s.jsx)(e,{...t}):null}},8801:function(){},8865:function(){}},function(e){e.O(0,[4911,9461,7138,1444,2971,7023,1744],function(){return e(e.s=4454)}),_N_E=e.O()}]);