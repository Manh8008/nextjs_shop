(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5073],{7984:function(e,s,r){Promise.resolve().then(r.bind(r,3646))},6463:function(e,s,r){"use strict";var t=r(1169);r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}})},3646:function(e,s,r){"use strict";r.r(s);var t=r(7437),n=r(814),c=r(7138),i=r(2265);s.default=(0,n.Z)(function(){let[e,s]=(0,i.useState)([]);(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:5000/users"),r=await e.json();s(r)}catch(e){console.error("Error fetching users:",e)}})()},[]);let r=async r=>{try{let t=await fetch("http://localhost:5000/users/".concat(r),{method:"DELETE"});t.ok?s(e.filter(e=>e._id!==r)):console.error("Error deleting user:",await t.text())}catch(e){console.error("Error deleting user:",e)}};return(0,t.jsx)("div",{className:"table-data",children:(0,t.jsxs)("div",{className:"order",children:[(0,t.jsxs)("div",{className:"head",children:[(0,t.jsx)("h3",{children:"C\xe1c t\xe0i khoản"}),(0,t.jsx)("i",{className:"bx bx-search"}),(0,t.jsx)("i",{className:"bx bx-filter"})]}),(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"M\xe3"}),(0,t.jsx)("th",{children:"Họ v\xe0 t\xean"}),(0,t.jsx)("th",{children:"Vai tr\xf2"}),(0,t.jsx)("th",{children:"T\xf9y chọn"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("p",{children:e._id})}),(0,t.jsx)("td",{children:e.username}),(0,t.jsx)("td",{children:e.role}),(0,t.jsxs)("td",{children:[(0,t.jsx)(c.default,{href:"/admin/members/".concat(e._id),children:(0,t.jsx)("i",{className:"bx bx-pen"})}),(0,t.jsx)("i",{className:"bx bx-trash",onClick:()=>r(e._id)})]})]},e._id))})]})]})})})},814:function(e,s,r){"use strict";var t=r(7437),n=r(6463),c=r(2265),i=r(1444);s.Z=e=>s=>{let r=(0,n.useRouter)(),a=(0,i.v9)(e=>e.user.userInfo);return((0,c.useEffect)(()=>{a&&"admin"===a.role||r.push("/")},[a,r]),a&&"admin"===a.role)?(0,t.jsx)(e,{...s}):null}}},function(e){e.O(0,[7138,1444,2971,7023,1744],function(){return e(e.s=7984)}),_N_E=e.O()}]);