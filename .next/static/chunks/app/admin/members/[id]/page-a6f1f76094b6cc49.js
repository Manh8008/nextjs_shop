(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6627],{5246:function(e,n,s){Promise.resolve().then(s.bind(s,8853))},8853:function(e,n,s){"use strict";s.r(n);var t=s(7437),a=s(2265),r=s(9381),l=s(4245);n.default=function(e){let{params:n}=e,[s,c]=(0,a.useState)(""),[i,o]=(0,a.useState)("");(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:5000/users/".concat(n.id)),s=await e.json();c(s.role)}catch(e){console.error("Error fetching user data:",e)}})()},[n.id]);let h=(0,r.TA)({initialValues:{role:s||""},validationSchema:l.Ry({role:l.Z_().required("Quyền hạn l\xe0 bắt buộc")}),onSubmit:async e=>{try{(await fetch("http://localhost:5000/users/".concat(n.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?o("Cập nhật quyền hạn th\xe0nh c\xf4ng"):o("Lỗi cập nhật quyền hạn")}catch(e){console.error("Error updating user role:",e)}}});return(0,t.jsx)("div",{className:"table-data",children:(0,t.jsxs)("div",{id:"check-out",children:[i&&(0,t.jsx)("p",{className:"alert alert-success",children:i}),(0,t.jsx)("div",{className:"container_form-checkout",children:(0,t.jsxs)("form",{onSubmit:h.handleSubmit,children:[(0,t.jsx)("div",{className:"row",children:(0,t.jsxs)("div",{className:"col",children:[(0,t.jsx)("h3",{className:"title",children:"Quyền hạn"}),(0,t.jsxs)("div",{className:"inputBox",children:[(0,t.jsx)("span",{children:"Quyền hạn:"}),(0,t.jsx)("input",{type:"text",placeholder:"Nhập quyền hạn...",name:"role",value:h.values.role,onChange:h.handleChange,onBlur:h.handleBlur}),h.touched.role&&h.errors.role?(0,t.jsxs)("div",{className:"error-msg",children:[(0,t.jsx)("i",{className:"fa-solid fa-circle-exclamation"})," ",h.errors.role]}):null]})]})}),(0,t.jsx)("button",{type:"submit",className:"submit-btn",children:"Sửa"})]})})]})})}}},function(e){e.O(0,[4349,2971,7023,1744],function(){return e(e.s=5246)}),_N_E=e.O()}]);