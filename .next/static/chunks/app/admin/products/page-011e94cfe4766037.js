(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4122],{7e3:function(t,e,s){Promise.resolve().then(s.bind(s,6239))},6239:function(t,e,s){"use strict";s.r(e);var n=s(7437),c=s(7138),a=s(2265),i=s(4646);e.default=function(){let[t,e]=(0,a.useState)(),[s,l]=(0,a.useState)("");(0,a.useEffect)(()=>{h()},[]);let h=async()=>{let t=await fetch("http://localhost:5000/products",{cache:"no-store"});e(await t.json())},r=async(s,n)=>{if(n.preventDefault(),(await (0,i.Z)("Bạn c\xf3 chắc chắn muốn x\xf3a sản phẩm n\xe0y kh\xf4ng?","question")).isConfirmed)try{(await fetch("http://localhost:5000/products/".concat(s),{method:"DELETE"})).ok?e(t.filter(t=>t._id!==s)):l("X\xf3a sản phẩm thất bại")}catch(t){l(t)}};return(0,n.jsx)("div",{className:"table-data",children:(0,n.jsxs)("div",{className:"order",children:[s&&(0,n.jsx)("p",{className:"alert alert-success",children:s}),(0,n.jsxs)("div",{className:"head",children:[(0,n.jsx)("i",{className:"bx bx-search"}),(0,n.jsx)("i",{className:"bx bx-filter"}),(0,n.jsx)(c.default,{href:"/admin/products/add",children:"Th\xeam sản phẩm"})]}),(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"M\xe3 sản phẩm"}),(0,n.jsx)("th",{children:"T\xean"}),(0,n.jsx)("th",{children:"Gi\xe1"}),(0,n.jsx)("th",{children:"Số lượng"}),(0,n.jsx)("th",{children:"Ng\xe0y update"}),(0,n.jsx)("th",{children:"Trạng th\xe1i"}),(0,n.jsx)("th",{children:"T\xf9y chọn"})]})}),(0,n.jsx)("tbody",{children:t&&t.map(t=>(0,n.jsxs)("tr",{children:[(0,n.jsxs)("td",{children:[(0,n.jsx)("img",{src:"".concat("http://localhost:5000/images","/").concat(t.image)}),(0,n.jsx)("p",{children:t._id.slice(-4)})]}),(0,n.jsx)("td",{children:t.name}),(0,n.jsxs)("td",{children:[t.price,"đ"]}),(0,n.jsx)("td",{children:t.quantity||"Đang cập nhật"}),(0,n.jsx)("td",{children:new Date(t.updatedAt).toLocaleDateString()}),(0,n.jsx)("td",{children:(0,n.jsx)("span",{className:"status completed",children:t.quantity?"C\xf2n h\xe0ng":"Hết h\xe0ng"})}),(0,n.jsxs)("td",{children:[(0,n.jsx)(c.default,{className:"edit__router",href:"/admin/products/update/".concat(t._id),children:(0,n.jsx)("i",{className:"bx bx-pen"})}),(0,n.jsx)("button",{onClick:e=>r(t._id,e),className:"delete__btn",children:(0,n.jsx)("i",{className:"bx bx-trash"})})]})]},t._id))})]})]})})}},4646:function(t,e,s){"use strict";var n=s(4379),c=s.n(n);s(8865),s(8801),e.Z=(t,e)=>c().fire({title:t,icon:e,showCancelButton:!0,confirmButtonText:"ĐỒNG \xdd",cancelButtonText:"QUAY LẠI",customClass:{title:"custom-alert-title",confirmButton:"custom-confirm-button",cancelButton:"custom-cancel-button"}})},8801:function(){},8865:function(){}},function(t){t.O(0,[4911,9461,7138,2971,7023,1744],function(){return t(t.s=7e3)}),_N_E=t.O()}]);