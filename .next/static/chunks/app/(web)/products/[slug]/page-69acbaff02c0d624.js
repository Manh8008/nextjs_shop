(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1044],{1989:function(e,t,s){Promise.resolve().then(s.bind(s,2045))},2045:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var n=s(7437),a=s(6323),i=s(9039),l=e=>{let{data:t,error:s}=(0,i.ZP)("http://localhost:5000/products/".concat(e),e=>fetch(e).then(e=>e.json()));return{product:t,error:s,isLoading:!t&&!s}},r=s(2265),c=s(1444),d=s(1085),o=e=>{let[t,s]=(0,r.useState)(1),[n,i]=(0,r.useState)(""),[l,o]=(0,r.useState)(""),u=(0,c.I0)(),h=(0,c.v9)(e=>e.cart);return{quantity:t,setQuantity:s,size:n,setSize:i,errorMessage:l,handleAddToCart:s=>{if(s.preventDefault(),!n){o("Bạn chưa chọn size!"),setTimeout(()=>o(""),3e3);return}if(!t||t<1){o("Vui l\xf2ng nhập số lượng hợp lệ!"),setTimeout(()=>o(""),3e3);return}u((0,d.Xq)({item:e,_id:e._id,quantity:parseInt(t,10),size:n})),h.error||(0,a.ID)("Th\xeam v\xe0o giỏ h\xe0ng th\xe0nh c\xf4ng!","success")}}};s(4769);var u=e=>{let{message:t}=e;return t?(0,n.jsxs)("div",{className:"error-message",children:[(0,n.jsx)("i",{className:"fa-solid fa-circle-exclamation"}),t]}):null},h=function(e){let{params:t}=e,{product:s,error:i,isLoading:r}=l(t.slug),{quantity:c,setQuantity:d,setSize:h,errorMessage:m,handleAddToCart:x}=o(s);return i?(0,n.jsx)("div",{children:"Failed to load"}):r?(0,n.jsx)(a.aN,{}):(0,n.jsxs)("div",{className:"main-container",children:[(0,n.jsx)("form",{onSubmit:x,children:(0,n.jsx)("div",{className:"container-detail",children:(0,n.jsxs)("div",{className:"detail",children:[(0,n.jsx)("div",{className:"image",children:(0,n.jsx)("img",{src:"".concat("http://localhost:5000/images","/").concat(s.image),alt:"Product Image"})}),(0,n.jsxs)("div",{className:"content",children:[(0,n.jsx)("h1",{className:"name",children:s.name}),(0,n.jsxs)("div",{className:"detail_sub-info",children:[(0,n.jsxs)("p",{children:["SKU:",(0,n.jsx)("span",{children:"57E3930"})]}),(0,n.jsx)(a.wU,{rating:s.rating})]}),(0,n.jsxs)("div",{className:"price",children:[s.price&&s.price.toLocaleString(),"đ"]}),(0,n.jsx)("div",{className:"detail-color",children:(0,n.jsx)("p",{children:"M\xe0u sắc: Trắng"})}),(0,n.jsxs)("div",{className:"size-selector",children:[(0,n.jsx)("input",{type:"radio",name:"size",id:"size_s",value:"S",onChange:e=>h(e.target.value)}),(0,n.jsx)("label",{htmlFor:"size_s",children:"S"}),(0,n.jsx)("input",{type:"radio",name:"size",id:"size_m",value:"M",onChange:e=>h(e.target.value)}),(0,n.jsx)("label",{htmlFor:"size_m",children:"M"}),(0,n.jsx)("input",{type:"radio",name:"size",id:"size_l",value:"L",onChange:e=>h(e.target.value)}),(0,n.jsx)("label",{htmlFor:"size_l",children:"L"}),(0,n.jsx)("input",{type:"radio",name:"size",id:"size_xl",value:"XL",onChange:e=>h(e.target.value)}),(0,n.jsx)("label",{htmlFor:"size_xl",children:"XL"})]}),(0,n.jsxs)("div",{className:"quantity-container",children:[(0,n.jsx)("label",{htmlFor:"quantity",children:"Số lượng"}),(0,n.jsx)("input",{type:"number",name:"quantity",id:"quantity",min:"1",value:c,onChange:e=>d(parseInt(e.target.value,10))})]}),(0,n.jsxs)("div",{className:"detail-option",children:[(0,n.jsx)("button",{type:"submit",className:"btn-add-cart btn btn--large",children:"Th\xeam v\xe0o giỏ"}),(0,n.jsx)("button",{type:"button",className:"btn btn--large btn--outline btn-outline-hover",children:"Mua h\xe0ng"}),(0,n.jsx)("button",{type:"button",className:"btn btn--large btn--outline btn-outline-hover",style:{marginLeft:14},children:(0,n.jsx)("i",{className:"fa-regular fa-heart"})})]}),(0,n.jsx)("div",{className:"description",children:s.description})]})]})})}),(0,n.jsx)(u,{message:m})]})}}},function(e){e.O(0,[4556,4911,9461,7138,1444,1116,5704,9039,6323,2971,7023,1744],function(){return e(e.s=1989)}),_N_E=e.O()}]);