(()=>{var e={};e.id=44,e.ids=[44],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7681:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>f,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>u}),r(9985),r(6253),r(6402),r(5866);var n=r(3191),i=r(8716),s=r(7922),a=r.n(s),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let u=["",{children:["(web)",{children:["products",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9985)),"E:\\fe_fw2\\duAn\\frontend\\src\\app\\(web)\\products\\[slug]\\page.js"]}]},{}]},{loading:[()=>Promise.resolve().then(r.bind(r,6253)),"E:\\fe_fw2\\duAn\\frontend\\src\\app\\(web)\\products\\loading.js"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,6402)),"E:\\fe_fw2\\duAn\\frontend\\src\\app\\(web)\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["E:\\fe_fw2\\duAn\\frontend\\src\\app\\(web)\\products\\[slug]\\page.js"],c="/(web)/products/[slug]/page",f={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(web)/products/[slug]/page",pathname:"/products/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},5464:(e,t,r)=>{Promise.resolve().then(r.bind(r,9237))},4352:(e,t,r)=>{Promise.resolve().then(r.bind(r,2085)),Promise.resolve().then(r.bind(r,3210)),Promise.resolve().then(r.bind(r,5611)),Promise.resolve().then(r.bind(r,2897)),Promise.resolve().then(r.bind(r,1168)),Promise.resolve().then(r.bind(r,7752)),Promise.resolve().then(r.bind(r,2872))},9856:(e,t,r)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(7577),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useState,a=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=s({inst:{value:r,getSnapshot:t}}),i=n[0].inst,d=n[1];return o(function(){i.value=r,i.getSnapshot=t,u(i)&&d({inst:i})},[e,r,t]),a(function(){return u(i)&&d({inst:i}),e(function(){u(i)&&d({inst:i})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d},4095:(e,t,r)=>{"use strict";e.exports=r(9856)},9237:(e,t,r)=>{"use strict";let n;r.r(t),r.d(t,{default:()=>el});var i=r(326),s=r(8069),a=r(7577),o=r(4095);let l=()=>{},u=l(),d=Object,c=e=>e===u,f=e=>"function"==typeof e,p=(e,t)=>({...e,...t}),g=e=>f(e.then),h=new WeakMap,m=0,v=e=>{let t,r;let n=typeof e,i=e&&e.constructor,s=i==Date;if(d(e)!==e||s||i==RegExp)t=s?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(t=h.get(e))return t;if(t=++m+"~",h.set(e,t),i==Array){for(r=0,t="@";r<e.length;r++)t+=v(e[r])+",";h.set(e,t)}if(i==d){t="#";let n=d.keys(e).sort();for(;!c(r=n.pop());)c(e[r])||(t+=r+":"+v(e[r])+",");h.set(e,t)}}return t},b=new WeakMap,x={},E={},_="undefined",y=typeof window!=_,w=typeof document!=_,j=()=>y&&typeof window.requestAnimationFrame!=_,S=(e,t)=>{let r=b.get(e);return[()=>!c(t)&&e.get(t)||x,n=>{if(!c(t)){let i=e.get(t);t in E||(E[t]=i),r[5](t,p(i,n),i||x)}},r[6],()=>!c(t)&&t in E?E[t]:!c(t)&&e.get(t)||x]},T=!0,[R,N]=y&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[l,l],P={initFocus:e=>(w&&document.addEventListener("visibilitychange",e),R("focus",e),()=>{w&&document.removeEventListener("visibilitychange",e),N("focus",e)}),initReconnect:e=>{let t=()=>{T=!0,e()},r=()=>{T=!1};return R("online",t),R("offline",r),()=>{N("online",t),N("offline",r)}}},O=!a.useId,L=!y||"Deno"in window,V=e=>j()?window.requestAnimationFrame(e):setTimeout(e,1),C=L?a.useEffect:a.useLayoutEffect,A="undefined"!=typeof navigator&&navigator.connection,k=!L&&A&&(["slow-2g","2g"].includes(A.effectiveType)||A.saveData),q=e=>{if(f(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?v(e):"",t]},D=0,M=()=>++D;var F={ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function I(...e){let[t,r,n,i]=e,s=p({populateCache:!0,throwOnError:!0},"boolean"==typeof i?{revalidate:i}:i||{}),a=s.populateCache,o=s.rollbackOnError,l=s.optimisticData,d=e=>"function"==typeof o?o(e):!1!==o,h=s.throwOnError;if(f(r)){let e=[];for(let n of t.keys())!/^\$(inf|sub)\$/.test(n)&&r(t.get(n)._k)&&e.push(n);return Promise.all(e.map(m))}return m(r);async function m(r){let i;let[o]=q(r);if(!o)return;let[p,m]=S(t,o),[v,x,E,_]=b.get(t),y=()=>{let e=v[o];return(f(s.revalidate)?s.revalidate(p().data,r):!1!==s.revalidate)&&(delete E[o],delete _[o],e&&e[0])?e[0](2).then(()=>p().data):p().data};if(e.length<3)return y();let w=n,j=M();x[o]=[j,0];let T=!c(l),R=p(),N=R.data,P=R._c,O=c(P)?N:P;if(T&&m({data:l=f(l)?l(O,N):l,_c:O}),f(w))try{w=w(O)}catch(e){i=e}if(w&&g(w)){if(w=await w.catch(e=>{i=e}),j!==x[o][0]){if(i)throw i;return w}i&&T&&d(i)&&(a=!0,m({data:O,_c:u}))}if(a&&!i&&(f(a)?m({data:a(w,O),error:u,_c:u}):m({data:w,error:u,_c:u})),x[o][1]=M(),Promise.resolve(y()).then(()=>{m({_c:u})}),i){if(h)throw i;return}return w}}let z=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},U=(e,t)=>{if(!b.has(e)){let r=p(P,t),n={},i=I.bind(u,e),s=l,a={},o=(e,t)=>{let r=a[e]||[];return a[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},d=(t,r,n)=>{e.set(t,r);let i=a[t];if(i)for(let e of i)e(r,n)},c=()=>{if(!b.has(e)&&(b.set(e,[n,{},{},{},i,d,o]),!L)){let t=r.initFocus(setTimeout.bind(u,z.bind(u,n,0))),i=r.initReconnect(setTimeout.bind(u,z.bind(u,n,1)));s=()=>{t&&t(),i&&i(),b.delete(e)}}};return c(),[e,i,c,s]}return[e,b.get(e)[4]]},[$,W]=U(new Map),G=p({onLoadingSlow:l,onSuccess:l,onError:l,onErrorRetry:(e,t,r,n,i)=>{let s=r.errorRetryCount,a=i.retryCount,o=~~((Math.random()+.5)*(1<<(a<8?a:8)))*r.errorRetryInterval;(c(s)||!(a>s))&&setTimeout(n,o,i)},onDiscarded:l,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:k?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:k?5e3:3e3,compare:(e,t)=>v(e)==v(t),isPaused:()=>!1,cache:$,mutate:W,fallback:{}},{isOnline:()=>T,isVisible:()=>{let e=w&&document.visibilityState;return c(e)||"hidden"!==e}}),X=(e,t)=>{let r=p(e,t);if(t){let{use:n,fallback:i}=e,{use:s,fallback:a}=t;n&&s&&(r.use=n.concat(s)),i&&a&&(r.fallback=p(i,a))}return r},J=(0,a.createContext)({}),B=y&&window.__SWR_DEVTOOLS_USE__,K=B?window.__SWR_DEVTOOLS_USE__:[],H=e=>f(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],Q=()=>p(G,(0,a.useContext)(J)),Y=K.concat(e=>(t,r,n)=>{let i=r&&((...e)=>{let[n]=q(t),[,,,i]=b.get($);if(n.startsWith("$inf$"))return r(...e);let s=i[n];return c(s)?r(...e):(delete i[n],s)});return e(t,i,n)}),Z=(e,t,r)=>{let n=t[e]||(t[e]=[]);return n.push(r),()=>{let e=n.indexOf(r);e>=0&&(n[e]=n[n.length-1],n.pop())}};B&&(window.__SWR_DEVTOOLS_REACT__=a);let ee=a.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),et={dedupe:!0};d.defineProperty(e=>{let{value:t}=e,r=(0,a.useContext)(J),n=f(t),i=(0,a.useMemo)(()=>n?t(r):t,[n,r,t]),s=(0,a.useMemo)(()=>n?i:X(r,i),[n,r,i]),o=i&&i.provider,l=(0,a.useRef)(u);o&&!l.current&&(l.current=U(o(s.cache||$),i));let d=l.current;return d&&(s.cache=d[0],s.mutate=d[1]),C(()=>{if(d)return d[2]&&d[2](),d[3]},[]),(0,a.createElement)(J.Provider,p(e,{value:s}))},"defaultValue",{value:G});let er=(n=(e,t,r)=>{let{cache:n,compare:i,suspense:s,fallbackData:l,revalidateOnMount:d,revalidateIfStale:g,refreshInterval:h,refreshWhenHidden:m,refreshWhenOffline:v,keepPreviousData:x}=r,[E,_,y,w]=b.get(n),[j,T]=q(e),R=(0,a.useRef)(!1),N=(0,a.useRef)(!1),P=(0,a.useRef)(j),A=(0,a.useRef)(t),k=(0,a.useRef)(r),D=()=>k.current,z=()=>D().isVisible()&&D().isOnline(),[U,$,W,G]=S(n,j),X=(0,a.useRef)({}).current,J=c(l)?r.fallback[j]:l,B=(e,t)=>{for(let r in X)if("data"===r){if(!i(e[r],t[r])&&(!c(e[r])||!i(ea,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},K=(0,a.useMemo)(()=>{let e=!!j&&!!t&&(c(d)?!D().isPaused()&&!s&&(!!c(g)||g):d),r=t=>{let r=p(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},n=U(),i=G(),a=r(n),o=n===i?a:r(i),l=a;return[()=>{let e=r(U());return B(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>o]},[n,j]),H=(0,o.useSyncExternalStore)((0,a.useCallback)(e=>W(j,(t,r)=>{B(r,t)||e()}),[n,j]),K[0],K[1]),Q=!R.current,Y=E[j]&&E[j].length>0,er=H.data,en=c(er)?J:er,ei=H.error,es=(0,a.useRef)(en),ea=x?c(er)?es.current:er:en,eo=(!Y||!!c(ei))&&(Q&&!c(d)?d:!D().isPaused()&&(s?!c(en)&&g:c(en)||g)),el=!!(j&&t&&Q&&eo),eu=c(H.isValidating)?el:H.isValidating,ed=c(H.isLoading)?el:H.isLoading,ec=(0,a.useCallback)(async e=>{let t,n;let s=A.current;if(!j||!s||N.current||D().isPaused())return!1;let a=!0,o=e||{},l=!y[j]||!o.dedupe,d=()=>O?!N.current&&j===P.current&&R.current:j===P.current,p={isValidating:!1,isLoading:!1},g=()=>{$(p)},h=()=>{let e=y[j];e&&e[1]===n&&delete y[j]},m={isValidating:!0};c(U().data)&&(m.isLoading=!0);try{if(l&&($(m),r.loadingTimeout&&c(U().data)&&setTimeout(()=>{a&&d()&&D().onLoadingSlow(j,r)},r.loadingTimeout),y[j]=[s(T),M()]),[t,n]=y[j],t=await t,l&&setTimeout(h,r.dedupingInterval),!y[j]||y[j][1]!==n)return l&&d()&&D().onDiscarded(j),!1;p.error=u;let e=_[j];if(!c(e)&&(n<=e[0]||n<=e[1]||0===e[1]))return g(),l&&d()&&D().onDiscarded(j),!1;let o=U().data;p.data=i(o,t)?o:t,l&&d()&&D().onSuccess(t,j,r)}catch(r){h();let e=D(),{shouldRetryOnError:t}=e;!e.isPaused()&&(p.error=r,l&&d()&&(e.onError(r,j,e),(!0===t||f(t)&&t(r))&&(!D().revalidateOnFocus||!D().revalidateOnReconnect||z())&&e.onErrorRetry(r,j,e,e=>{let t=E[j];t&&t[0]&&t[0](F.ERROR_REVALIDATE_EVENT,e)},{retryCount:(o.retryCount||0)+1,dedupe:!0})))}return a=!1,g(),!0},[j,n]),ef=(0,a.useCallback)((...e)=>I(n,P.current,...e),[]);if(C(()=>{A.current=t,k.current=r,c(er)||(es.current=er)}),C(()=>{if(!j)return;let e=ec.bind(u,et),t=0,r=Z(j,E,(r,n={})=>{if(r==F.FOCUS_EVENT){let r=Date.now();D().revalidateOnFocus&&r>t&&z()&&(t=r+D().focusThrottleInterval,e())}else if(r==F.RECONNECT_EVENT)D().revalidateOnReconnect&&z()&&e();else if(r==F.MUTATE_EVENT)return ec();else if(r==F.ERROR_REVALIDATE_EVENT)return ec(n)});return N.current=!1,P.current=j,R.current=!0,$({_k:T}),eo&&(c(en)||L?e():V(e)),()=>{N.current=!0,r()}},[j]),C(()=>{let e;function t(){let t=f(h)?h(U().data):h;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!U().error&&(m||D().isVisible())&&(v||D().isOnline())?ec(et).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[h,m,v,j]),(0,a.useDebugValue)(ea),s&&c(en)&&j){if(!O&&L)throw Error("Fallback data is required when using suspense in SSR.");A.current=t,k.current=r,N.current=!1;let e=w[j];if(c(e)||ee(ef(e)),c(ei)){let e=ec(et);c(ea)||(e.status="fulfilled",e.value=!0),ee(e)}else throw ei}return{mutate:ef,get data(){return X.data=!0,ea},get error(){return X.error=!0,ei},get isValidating(){return X.isValidating=!0,eu},get isLoading(){return X.isLoading=!0,ed}}},function(...e){let t=Q(),[r,i,s]=H(e),a=X(t,s),o=n,{use:l}=a,u=(l||[]).concat(Y);for(let e=u.length;e--;)o=u[e](o);return o(r,i||a.fetcher||null,a)}),en=e=>{let{data:t,error:r}=er(`http://localhost:5000/products/${e}`,e=>fetch(e).then(e=>e.json()));return{product:t,error:r,isLoading:!t&&!r}};var ei=r(5842),es=r(4100);let ea=e=>{let[t,r]=(0,a.useState)(1),[n,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),u=(0,ei.I0)(),d=(0,ei.v9)(e=>e.cart);return{quantity:t,setQuantity:r,size:n,setSize:i,errorMessage:o,handleAddToCart:r=>{if(r.preventDefault(),!n){l("Bạn chưa chọn size!"),setTimeout(()=>l(""),3e3);return}if(!t||t<1){l("Vui l\xf2ng nhập số lượng hợp lệ!"),setTimeout(()=>l(""),3e3);return}u((0,es.Xq)({item:e,_id:e._id,quantity:parseInt(t,10),size:n})),d.error||(0,s.ID)("Th\xeam v\xe0o giỏ h\xe0ng th\xe0nh c\xf4ng!","success")}}};r(498);let eo=({message:e})=>e?(0,i.jsxs)("div",{className:"error-message",children:[i.jsx("i",{className:"fa-solid fa-circle-exclamation"}),e]}):null,el=function({params:e}){let{product:t,error:r,isLoading:n}=en(e.slug),{quantity:a,setQuantity:o,setSize:l,errorMessage:u,handleAddToCart:d}=ea(t);return r?i.jsx("div",{children:"Failed to load"}):n?i.jsx(s.aN,{}):(0,i.jsxs)("div",{className:"main-container",children:[i.jsx("form",{onSubmit:d,children:i.jsx("div",{className:"container-detail",children:(0,i.jsxs)("div",{className:"detail",children:[i.jsx("div",{className:"image",children:i.jsx("img",{src:`http://localhost:5000/images/${t.image}`,alt:"Product Image"})}),(0,i.jsxs)("div",{className:"content",children:[i.jsx("h1",{className:"name",children:t.name}),(0,i.jsxs)("div",{className:"detail_sub-info",children:[(0,i.jsxs)("p",{children:["SKU:",i.jsx("span",{children:"57E3930"})]}),i.jsx(s.wU,{rating:t.rating})]}),(0,i.jsxs)("div",{className:"price",children:[t.price&&t.price.toLocaleString(),"đ"]}),i.jsx("div",{className:"detail-color",children:i.jsx("p",{children:"M\xe0u sắc: Trắng"})}),(0,i.jsxs)("div",{className:"size-selector",children:[i.jsx("input",{type:"radio",name:"size",id:"size_s",value:"S",onChange:e=>l(e.target.value)}),i.jsx("label",{htmlFor:"size_s",children:"S"}),i.jsx("input",{type:"radio",name:"size",id:"size_m",value:"M",onChange:e=>l(e.target.value)}),i.jsx("label",{htmlFor:"size_m",children:"M"}),i.jsx("input",{type:"radio",name:"size",id:"size_l",value:"L",onChange:e=>l(e.target.value)}),i.jsx("label",{htmlFor:"size_l",children:"L"}),i.jsx("input",{type:"radio",name:"size",id:"size_xl",value:"XL",onChange:e=>l(e.target.value)}),i.jsx("label",{htmlFor:"size_xl",children:"XL"})]}),(0,i.jsxs)("div",{className:"quantity-container",children:[i.jsx("label",{htmlFor:"quantity",children:"Số lượng"}),i.jsx("input",{type:"number",name:"quantity",id:"quantity",min:"1",value:a,onChange:e=>o(parseInt(e.target.value,10))})]}),(0,i.jsxs)("div",{className:"detail-option",children:[i.jsx("button",{type:"submit",className:"btn-add-cart btn btn--large",children:"Th\xeam v\xe0o giỏ"}),i.jsx("button",{type:"button",className:"btn btn--large btn--outline btn-outline-hover",children:"Mua h\xe0ng"}),i.jsx("button",{type:"button",className:"btn btn--large btn--outline btn-outline-hover",style:{marginLeft:14},children:i.jsx("i",{className:"fa-regular fa-heart"})})]}),i.jsx("div",{className:"description",children:t.description})]})]})})}),i.jsx(eo,{message:u})]})}},9985:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>s,default:()=>o});var n=r(8570);let i=(0,n.createProxy)(String.raw`E:\fe_fw2\duAn\frontend\src\app\(web)\products\[slug]\page.js`),{__esModule:s,$$typeof:a}=i;i.default;let o=(0,n.createProxy)(String.raw`E:\fe_fw2\duAn\frontend\src\app\(web)\products\[slug]\page.js#default`)},6253:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(9510),i=r(1544);function s(){return n.jsx(i.aN,{})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[819,758,901,328,915,944,459],()=>r(7681));module.exports=n})();