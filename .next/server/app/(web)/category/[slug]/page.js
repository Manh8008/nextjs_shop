(()=>{var e={};e.id=116,e.ids=[116],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7562:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>g,tree:()=>c}),r(2805),r(6402),r(5866);var s=r(3191),n=r(8716),a=r(7922),o=r.n(a),i=r(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["(web)",{children:["category",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2805)),"E:\\fe_fw2\\duAn\\frontend\\src\\app\\(web)\\category\\[slug]\\page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6402)),"E:\\fe_fw2\\duAn\\frontend\\src\\app\\(web)\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["E:\\fe_fw2\\duAn\\frontend\\src\\app\\(web)\\category\\[slug]\\page.js"],u="/(web)/category/[slug]/page",p={require:r,loadChunk:()=>Promise.resolve()},g=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(web)/category/[slug]/page",pathname:"/category/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8523:(e,t,r)=>{Promise.resolve().then(r.bind(r,5896))},5896:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(326),n=r(8069),a=r(7577);let o=(e,t)=>{let[r,s]=(0,a.useState)([]),[n,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(1),[c,d]=(0,a.useState)(1),[u,p]=(0,a.useState)("default"),g=(0,a.useRef)([]),h=async(r,n=u)=>{try{let a="";"asc"===n||"desc"===n?a=`&_sort&column=price&type=${n}`:"newest"===n?a="&_sort&column=createdAt&type=desc":"views"===n&&(a="&_sort&column=views&type=desc");let i=await fetch(`http://localhost:5000/products/category/${e}?page=${r}&limit=${t}${a}`);if(!i.ok)throw Error("Mạng kh\xf4ng ổn định !");let l=await i.json();s(l.products),g.current=l.products,d(l.totalPages),o(0===l.products.length)}catch(e){console.error("Lỗi khi t\xecm nạp sản phẩm:",e),o(!0)}};return(0,a.useEffect)(()=>{h(i)},[e,i,t]),{products:r,isDataEmpty:n,currentPage:i,totalPages:c,handleSort:e=>{p(e),h(i,e)},handlePageChange:e=>{l(e)},handleFilter:(e,t)=>{let r=g.current.filter(r=>r.price>=e&&r.price<=t);s(r),o(0===r.length)}}},i=function({params:e}){let{products:t,isDataEmpty:r,currentPage:a,totalPages:i,handleSort:l,handlePageChange:c,handleFilter:d}=o(e.slug,8);return(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"main-container",children:s.jsx("div",{className:"grid wide",children:(0,s.jsxs)("div",{className:"grid__row main-content",children:[s.jsx("div",{className:"grid__column-2",children:s.jsx(n.jU,{handleFilter:d})}),(0,s.jsxs)("div",{className:"grid__column-10",children:[s.jsx(n.DV,{handleSort:l,handlePageChange:c,currentPage:a,totalPages:i}),s.jsx("div",{className:"home-product grid",children:s.jsx("ul",{className:"products grid__row",children:r?s.jsx("div",{children:s.jsx("h4",{className:"text-error",children:"Kh\xf4ng t\xecm thấy sản phẩm ph\xf9 hợp !"})}):t.map(e=>s.jsx("li",{className:"product-item grid__column-3",children:s.jsx(n.Il,{product:e})},e._id))})})]})]})})}),s.jsx("div",{className:"site-bottom"})]})}},2805:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>i});var s=r(8570);let n=(0,s.createProxy)(String.raw`E:\fe_fw2\duAn\frontend\src\app\(web)\category\[slug]\page.js`),{__esModule:a,$$typeof:o}=n;n.default;let i=(0,s.createProxy)(String.raw`E:\fe_fw2\duAn\frontend\src\app\(web)\category\[slug]\page.js#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[819,758,901,328,915,944,459],()=>r(7562));module.exports=s})();