(()=>{var e={};e.id=155,e.ids=[155],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9212:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(7190),r(6402),r(5866);var t=r(3191),a=r(8716),n=r(7922),o=r.n(n),i=r(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(s,l);let c=["",{children:["(web)",{children:["changepass",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7190)),"E:\\fe_fw2\\duAn\\frontend\\src\\app\\(web)\\changepass\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6402)),"E:\\fe_fw2\\duAn\\frontend\\src\\app\\(web)\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["E:\\fe_fw2\\duAn\\frontend\\src\\app\\(web)\\changepass\\page.js"],p="/(web)/changepass/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(web)/changepass/page",pathname:"/changepass",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5408:(e,s,r)=>{Promise.resolve().then(r.bind(r,2052))},2052:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o});var t=r(326),a=r(5047),n=r(7577);let o=()=>{let e=(0,a.useRouter)(),[s,r]=(0,n.useState)(""),[o,i]=(0,n.useState)(""),[l,c]=(0,n.useState)(""),[d,p]=(0,n.useState)(""),[u,m]=(0,n.useState)(""),h=async r=>{if(r.preventDefault(),o!==l){p("Mật khẩu mới kh\xf4ng khớp!");return}try{let r=JSON.parse(localStorage.getItem("userInfo")).token,t=await fetch("http://localhost:5000/users/changePassword",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`${r}`},body:JSON.stringify({oldPassword:s,newPassword:o})}),a=await t.json();t.ok?(m(a.message),p(""),e.push("/info")):(p(a.error),m(""))}catch(e){console.error("Fetch Error:",e),p("C\xf3 lỗi xảy ra. Vui l\xf2ng thử lại!")}};return(0,t.jsxs)("div",{className:"main-container",children:[t.jsx("div",{className:"form-container",children:(0,t.jsxs)("form",{className:"form",id:"form-1",onSubmit:h,children:[t.jsx("h3",{className:"heading",children:"Đổi mật khẩu"}),d&&t.jsx("p",{className:"alert alert-danger",children:d}),u&&t.jsx("p",{className:"alert alert-success",children:u}),(0,t.jsxs)("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"oldPassword",className:"form-label",children:"Mật khẩu hiện tại"}),t.jsx("input",{id:"oldPassword",name:"oldPassword",type:"password",className:"form-control",value:s,onChange:e=>r(e.target.value)}),t.jsx("span",{className:"form-message"})]}),(0,t.jsxs)("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"newPassword",className:"form-label",children:"Mật khẩu mới"}),t.jsx("input",{id:"newPassword",name:"newPassword",type:"password",className:"form-control",value:o,onChange:e=>i(e.target.value)}),t.jsx("span",{className:"form-message"})]}),(0,t.jsxs)("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Nhập lại mật khẩu mới"}),t.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",className:"form-control",value:l,onChange:e=>c(e.target.value)}),t.jsx("span",{className:"form-message"})]}),t.jsx("div",{className:"router-page-btn col",children:t.jsx("button",{className:"form-submit",type:"submit",children:"Cập nhật"})})]})}),t.jsx("div",{className:"site-bottom"})]})}},7190:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>o,__esModule:()=>n,default:()=>i});var t=r(8570);let a=(0,t.createProxy)(String.raw`E:\fe_fw2\duAn\frontend\src\app\(web)\changepass\page.js`),{__esModule:n,$$typeof:o}=a;a.default;let i=(0,t.createProxy)(String.raw`E:\fe_fw2\duAn\frontend\src\app\(web)\changepass\page.js#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[819,758,901,328,915,944,459],()=>r(9212));module.exports=t})();